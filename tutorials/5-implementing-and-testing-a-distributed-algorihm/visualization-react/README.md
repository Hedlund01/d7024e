# üï∏Ô∏è Gossip Protocol Network Visualizer

A React-based visualization tool for analyzing gossip protocol networks and message propagation patterns.

## Features

### üåê Network Topology Visualization
- Interactive network graph showing node connections
- Click nodes to highlight their connections
- Zoom and pan functionality
- Color-coded nodes (normal, selected, connected)
- Real-time connection highlighting

### üì° Message Replay System  
- Step-by-step replay of message propagation
- Adjustable playback speeds (0.25x to 8x)
- Progress slider for jumping to specific points
- Current message details with transmission flow
- Recent activity feed
- Real-time statistics (nodes reached, elapsed time)

### üìä Network Statistics
- Total nodes and connections
- Message trace count
- Network coverage analysis
- Propagation timing information

## Getting Started

### Prerequisites
- Node.js (v16 or higher)
- npm or yarn

### Installation

1. Navigate to the visualization directory:
```bash
cd visualization-react
```

2. Install dependencies:
```bash
npm install
```

3. Start the development server:
```bash
npm start
```

4. Open [http://localhost:3000](http://localhost:3000) to view it in the browser.

### Generating Data

The visualizer requires data generated by the Go gossip protocol implementation:

1. Go to the Go project directory:
```bash
cd ..
```

2. Run the gossip test to generate visualization data:
```bash
go test -v -run TestGossipProtocol1000Nodes
```

3. This creates `./visualization/network_visualization.json` with:
   - Network topology (nodes and connections)
   - Message traces (chronological propagation events)
   - Timing information

### Loading Data

#### Method 1: File Upload
1. Click "Upload Visualization Data"
2. Select the generated `network_visualization.json` file
3. The visualization will load automatically

#### Method 2: Sample Data (if served)
1. Copy the generated JSON to the `public` folder
2. Click "Load Sample Network" in the app
3. The data will be fetched automatically

## Data Format

The visualizer expects JSON data with this structure:

```json
{
  "topology": {
    "nodes": [
      {
        "id": 0,
        "addr": "127.0.0.1:8000", 
        "x": 100,
        "y": 150
      }
    ],
    "edges": [
      {
        "from": 0,
        "to": 1
      }
    ]
  },
  "traces": [
    {
      "timestamp": "2024-01-01T12:00:00Z",
      "messageId": "abc123...",
      "originalSender": 5,
      "immediateForwarder": 3,
      "receiver": 1,
      "content": "Hello from the gossip network!",
      "ttl": 15,
      "isDirect": false
    }
  ],
  "startTime": "2024-01-01T12:00:00Z"
}
```

## Usage

### Network Visualization
- **Click nodes**: Highlight connections and see node details
- **Mouse wheel**: Zoom in/out
- **Drag**: Pan around the network
- **Clear Selection**: Remove highlights

### Message Replay
- **Play/Pause**: Control automatic playback
- **Step Forward/Back**: Manual control
- **Speed Control**: Adjust playback rate
- **Progress Slider**: Jump to any point in time
- **Activity Feed**: See recent message transmissions

## Understanding the Visualization

### Node Colors
- üîµ **Blue**: Normal node
- üî¥ **Red**: Currently selected node  
- üü° **Yellow**: Connected to selected node

### Message Flow
- **Direct**: Message sent directly from original sender
- **Forwarded**: Message relayed through intermediate nodes
- **TTL**: Time-to-live showing remaining hops

### Statistics
- **Nodes Reached**: How many nodes received the message
- **Coverage**: Percentage of network reached
- **Messages Sent**: Total transmissions in the network
- **Elapsed Time**: Time since gossip started

## Development

### Available Scripts

- `npm start`: Development server
- `npm test`: Run tests  
- `npm run build`: Build for production
- `npm run eject`: Eject from Create React App

### Built With
- React 18
- D3.js for network visualization
- CSS Grid and Flexbox for layout
- Modern ES6+ JavaScript

## Architecture

The visualizer consists of:

1. **App.js**: Main application with file upload and data management
2. **NetworkVisualization.js**: D3-based network graph component
3. **MessageReplay.js**: Timeline and playback controls
4. **CSS Modules**: Styled components for responsive design

## Example Networks

The Go implementation generates networks with:
- 1000 nodes (configurable)
- 4 random peers per node (configurable)
- Grid-based layout with randomization
- Realistic message propagation timing
- TTL-based hop limiting

## Performance

The visualizer handles:
- Networks up to 10,000 nodes
- Message traces up to 50,000 events
- Real-time playback with smooth animations
- Responsive design for mobile devices

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test with different network sizes
5. Submit a pull request

## License

This project is part of the distributed algorithms tutorial series.